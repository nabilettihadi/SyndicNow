<nav class="navbar">
  <div class="navbar-container">
    <div class="navbar-brand">
      <a routerLink="/" class="logo">SyndicNow</a>
    </div>

    <button class="mobile-menu-button" (click)="toggleMobileMenu()" [attr.aria-expanded]="isMobileMenuOpen">
      <span class="sr-only">Menu</span>
      <div class="hamburger" [class.active]="isMobileMenuOpen">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </button>

    <div class="navbar-menu" [@slideInOut]="isMobileMenuOpen ? 'in' : 'out'" [class.active]="isMobileMenuOpen">
      <div class="nav-links">
        <!-- Liens communs -->
        <a routerLink="/dashboard" routerLinkActive="active" class="nav-link">
          <i class="fas fa-home"></i>
          Tableau de bord
        </a>

        <!-- Liens spécifiques au rôle -->
        <ng-container *ngIf="userRole$ | async as role">
          <!-- Liens pour SYNDIC -->
          <ng-container *ngIf="role === 'SYNDIC'">
            <a routerLink="/buildings" routerLinkActive="active" class="nav-link">
              <i class="fas fa-building"></i>
              Immeubles
            </a>
            <a routerLink="/syndic/payments" routerLinkActive="active" class="nav-link">
              <i class="fas fa-money-bill"></i>
              Gestion des paiements
            </a>
          </ng-container>

          <!-- Liens pour PROPRIETAIRE -->
          <ng-container *ngIf="role === 'PROPRIETAIRE'">
            <a routerLink="/my-properties" routerLinkActive="active" class="nav-link">
              <i class="fas fa-home"></i>
              Mes propriétés
            </a>
            <a routerLink="/payments" routerLinkActive="active" class="nav-link">
              <i class="fas fa-money-bill"></i>
              Mes paiements
            </a>
          </ng-container>
        </ng-container>

        <!-- Documents (commun aux deux rôles) -->
        <a routerLink="/documents" routerLinkActive="active" class="nav-link">
          <i class="fas fa-file-alt"></i>
          Documents
        </a>
      </div>
    </div>

    <div class="auth-section">
      <div class="user-menu">
        <div class="user-info">
          <i class="fas fa-user-circle"></i>
          <span class="username">{{ userName$ | async }}</span>
        </div>
        <button class="logout-button" (click)="onLogout($event)">
          <i class="fas fa-sign-out-alt"></i>
          Se déconnecter
        </button>
      </div>
    </div>
  </div>
</nav>
